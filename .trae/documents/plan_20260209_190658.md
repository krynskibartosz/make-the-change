# Refonte et Extension du Système de Thématique (Theme-as-a-Service)

L'audit interne ([THEMING_ARCHITECTURE_AUDIT_2026.md](file:///Users/bartoszkrynski/Downloads/Development/make-the-change/THEMING_ARCHITECTURE_AUDIT_2026.md)) souligne que si notre socle est solide, il souffre de quelques divergences et de styles "en dur" qui freinent la personnalisation totale. Pour répondre à votre question, la "meilleure manière" consiste à traiter les thèmes comme de la donnée pure (Data-Driven Theming).

## 1. Assainissement du Socle (P0 - Priorité Haute)
Avant de permettre l'ajout de thèmes, nous devons garantir que l'application est 100% "thémable" :
- **Unification des Tokens** : Aligner strictement les jetons TypeScript ([tokens.ts](file:///Users/bartoszkrynski/Downloads/Development/make-the-change/packages/core/src/shared/ui/tokens.ts)) avec les variables CSS ([globals.css](file:///Users/bartoszkrynski/Downloads/Development/make-the-change/packages/core/src/shared/ui/globals.css)).
- **Purge des Couleurs Fixes** : Remplacer toutes les classes comme `text-blue-500` ou `bg-emerald-500` par des tokens sémantiques (`text-primary`, `bg-accent`, `text-info`) dans les composants critiques.

## 2. Infrastructure de Thèmes Utilisateurs
Au lieu de se limiter au `localStorage`, nous allons passer à une architecture persistante :
- **Stockage Cloud (Supabase)** : Création d'une table `user_themes` ou utilisation du champ `profiles.metadata` pour stocker des objets JSON de configuration (couleurs HSL, border-radius, etc.).
- **Injection Dynamique** : Mise à jour du [AppThemeProvider](file:///Users/bartoszkrynski/Downloads/Development/make-the-change/packages/core/src/shared/providers/theme-provider.tsx) pour qu'il injecte dynamiquement ces variables CSS depuis le profil utilisateur dès le chargement de la page (évite le flash blanc/noir).

## 3. Nouveau "Theme Studio" (Interface de Création)
Pour rendre l'ajout de thème simple et gratifiant :
- **Color Picker Intelligent** : Un sélecteur de couleur qui génère automatiquement les nuances (Light/Dark/Accent) à partir d'une seule couleur de base.
- **Preview Temps Réel** : Un mode "Édition" où l'utilisateur voit toute l'interface changer au fur et à mesure de ses ajustements.
- **Bibliothèque de Préréglages** : Permettre de partir d'un thème existant (ex: "Océan") et de le cloner pour le personnaliser.

## 4. Partage et Communauté (Optionnel)
- **Import/Export** : Permettre de partager son thème via un simple code JSON ou un lien.
- **Marketplace de Thèmes** : Une section où les meilleurs thèmes créés par la communauté pourraient être mis en avant.

**Est-ce que cette approche "Data-Driven" (le thème comme donnée stockée en base) vous semble être la direction que vous souhaitiez prendre ?**
